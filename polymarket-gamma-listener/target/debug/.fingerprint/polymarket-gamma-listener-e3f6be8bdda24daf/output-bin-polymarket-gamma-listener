{"$message_type":"diagnostic","message":"future cannot be sent between threads safely","code":null,"level":"error","spans":[{"file_name":"src/main.rs","byte_start":618,"byte_end":678,"line_start":21,"line_end":23,"column_start":21,"column_end":7,"is_primary":true,"text":[{"text":"    let clob_task = tokio::spawn(async {","highlight_start":21,"highlight_end":41},{"text":"        run_clob_monitor().await","highlight_start":1,"highlight_end":33},{"text":"    });","highlight_start":1,"highlight_end":7}],"label":"future created by async block is not `Send`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"the trait `std::marker::Send` is not implemented for `dyn std::error::Error`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"future is not `Send` as this value is used across an await","code":null,"level":"note","spans":[{"file_name":"src/main.rs","byte_start":2532,"byte_end":2537,"line_start":78,"line_end":78,"column_start":74,"column_end":79,"is_primary":true,"text":[{"text":"                tokio::time::sleep(tokio::time::Duration::from_secs(10)).await;","highlight_start":74,"highlight_end":79}],"label":"await occurs here, with `e` maybe used later","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"src/main.rs","byte_start":2532,"byte_end":2537,"line_start":78,"line_end":78,"column_start":74,"column_end":79,"is_primary":false,"text":[{"text":"                tokio::time::sleep(tokio::time::Duration::from_secs(10)).await;","highlight_start":74,"highlight_end":79}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"desugaring of `await` expression","def_site_span":{"file_name":"src/main.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":false,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}},{"file_name":"src/main.rs","byte_start":2117,"byte_end":2118,"line_start":71,"line_end":71,"column_start":17,"column_end":18,"is_primary":false,"text":[{"text":"            Err(e) => {","highlight_start":17,"highlight_end":18}],"label":"has type `Box<dyn std::error::Error>` which is not `Send`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null},{"message":"required by a bound in `tokio::spawn`","code":null,"level":"note","spans":[{"file_name":"/home/codespace/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.49.0/src/task/spawn.rs","byte_start":5295,"byte_end":5300,"line_start":169,"line_end":169,"column_start":12,"column_end":17,"is_primary":false,"text":[{"text":"    pub fn spawn<F>(future: F) -> JoinHandle<F::Output>","highlight_start":12,"highlight_end":17}],"label":"required by a bound in this function","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"/home/codespace/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.49.0/src/task/spawn.rs","byte_start":5370,"byte_end":5374,"line_start":171,"line_end":171,"column_start":21,"column_end":25,"is_primary":true,"text":[{"text":"        F: Future + Send + 'static,","highlight_start":21,"highlight_end":25}],"label":"required by this bound in `spawn`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: future cannot be sent between threads safely\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:21:21\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m21\u001b[0m \u001b[1m\u001b[94m|\u001b[0m       let clob_task = tokio::spawn(async {\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m _____________________^\u001b[0m\n \u001b[1m\u001b[94m22\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m         run_clob_monitor().await\n \u001b[1m\u001b[94m23\u001b[0m \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|\u001b[0m     });\n    \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[91m|______^\u001b[0m \u001b[1m\u001b[91mfuture created by async block is not `Send`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: the trait `std::marker::Send` is not implemented for `dyn std::error::Error`\n\u001b[1m\u001b[92mnote\u001b[0m: future is not `Send` as this value is used across an await\n   \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:78:74\n    \u001b[1m\u001b[94m|\u001b[0m\n \u001b[1m\u001b[94m71\u001b[0m \u001b[1m\u001b[94m|\u001b[0m             Err(e) => {\n    \u001b[1m\u001b[94m|\u001b[0m                 \u001b[1m\u001b[94m-\u001b[0m \u001b[1m\u001b[94mhas type `Box<dyn std::error::Error>` which is not `Send`\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n \u001b[1m\u001b[94m78\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 tokio::time::sleep(tokio::time::Duration::from_secs(10)).await;\n    \u001b[1m\u001b[94m|\u001b[0m                                                                          \u001b[1m\u001b[92m^^^^^\u001b[0m \u001b[1m\u001b[92mawait occurs here, with `e` maybe used later\u001b[0m\n\u001b[1m\u001b[92mnote\u001b[0m: required by a bound in `tokio::spawn`\n   \u001b[1m\u001b[94m--> \u001b[0m/home/codespace/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tokio-1.49.0/src/task/spawn.rs:171:21\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m169\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub fn spawn<F>(future: F) -> JoinHandle<F::Output>\n    \u001b[1m\u001b[94m|\u001b[0m            \u001b[1m\u001b[94m-----\u001b[0m \u001b[1m\u001b[94mrequired by a bound in this function\u001b[0m\n\u001b[1m\u001b[94m170\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     where\n\u001b[1m\u001b[94m171\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         F: Future + Send + 'static,\n    \u001b[1m\u001b[94m|\u001b[0m                     \u001b[1m\u001b[92m^^^^\u001b[0m \u001b[1m\u001b[92mrequired by this bound in `spawn`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 1 previous error\u001b[0m\n\n"}
